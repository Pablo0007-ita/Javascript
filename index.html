<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>La mia pagina</title>
</head>
<style>
    input{
        display: block;
        margin-bottom: 20px;
    }
    button {
        background-color: #4CAF50; /* Verde */
        color: white; /* Testo bianco */
        padding: 10px 20px; /* Spaziatura interna */
        border: none; /* Nessun bordo */
        border-radius: 5px; /* Angoli arrotondati */
        cursor: pointer; /* Puntatore a mano */
    }
</style>
<body>
<!-- 
1) Cosa sono le promise
2) Il problema con le callback
3) Il miglioramento tramite promise
4) Sintassi delle promise
5) Risposta in caso di fallimento
6) Chaining
7) Costruire promise custom
8) Rifiutare una promise custom
-->

  
    <script>
                                    //promise concatenate

        // fetch('coffee.jpg')                          
        // .then(response => {
        // return response.blob();
        // })
        // .then(myBlob => {
        // let objectURL = URL.createObjectURL(myBlob);
        // let image = document. createElement('img');
        // image.src = objectURL;
        // document.body.appendChild(image);
        // })
        // .catch(e => {
        // console.log('There has been a problem with your fetch operation: ' + e.message);
        // });

                                //promise con funzione anonima

        // let timeoutPromise = new Promise((resolve, reject) => {    
        // setTimeout(function () {
        // resolve('Success!');
        // }, 2000);
        // });

                                        //promise generica
        //     resolve('Success 2!');
        // let timeoutPromise2 = new Promise((resolve, reject) => {   //promise generica
        //     resolve('Success 2!');
        // });

        function timeoutPromise(message, interval) {
        return new Promise((resolve, reject) => {
            if (message === '' || typeof message !== 'string') {
                reject('Message is empty or not a string');
            } else if (interval < 0 || typeof interval !== 'number') {
                reject('Interval is negative or not a number');
            } else {
            setTimeout(function () {
            resolve(message);
            }, interval);
        }   
    });
};

    timeoutPromise('', 1000)
        .then(message => {
        alert(message);
        })
        .catch(e => {
        console.log('Error: ' + e);
    });
    

</script>
</body>

</script>
</body>
</html>
    